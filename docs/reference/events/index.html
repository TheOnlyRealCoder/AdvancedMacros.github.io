<!DOCTYPE HTML><html lang=en-US><head><meta charset=UTF-8><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#404040><meta name=apple-mobile-web-app-title content="Advanced Macros"><meta name=application-name content="Advanced Macros"><meta name=msapplication-TileColor content=#404040><meta name=msapplication-TileImage content=/mstile-144x144.png><meta name=theme-color content=#404040><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/assets/css/main.css><link rel=stylesheet href=/assets/css/hl.css><script async src=/assets/js/main.js></script><title>Events | Advanced Macros</title><meta itemprop=description name=description content="Events are used to trigger scripts when different things in-game occur.You can create an event binding by changing the third icon into..."><meta property=og:locale content=en><meta property=og:type content=website><meta property=article:published_time content=2020-04-11T20:06:41+00:00><meta property=og:title content="Events | Advanced Macros"><meta property=og:url content="https://advancedmacros.github.io/docs/reference/events/"><meta property=og:site_name content="Advanced Macros"><meta property=article:author content="Advanced Macros"><meta property=og:description content="Events are used to trigger scripts when different things in-game occur.You can create an event binding by changing the third icon into..."><meta itemprop=keywords><meta name=twitter:card content=summary><meta name=twitter:title content="Events | Advanced Macros"><meta name=twitter:description content="Events are used to trigger scripts when different things in-game occur.You can create an event binding by changing the third icon into..."><link rel=alternate type=application/atom+xml title="Advanced Macros" href=https://advancedmacros.github.io/feed.xml><link rel=canonical href="https://advancedmacros.github.io/docs/reference/events/"></head><body class=wrap><header><div class=flexbox><div class=center-on-mobiles><h1><a href="/" class=logo><img height=65 srcset="/assets/logo/128.png 128w, /assets/logo/504.png 504w, /assets/logo/751.png 751w, /assets/logo/996.png 996w, /assets/logo/1218.png 1218w, /assets/logo/1425.png 1425w, /assets/logo/1613.png 1613w, /assets/logo/1786.png 1786w, /assets/logo/2160.png 2160w" style="max-height: 47px;" src=/assets/logo/504.png alt=Logo> <span style="vertical-align: top;">Advanced Macros</span></a></h1></div><nav class="main-nav hide-on-mobiles"><ul><li><a href="/">Home</a></li><li class=current><a href="/docs/">Docs</a></li><li><a href="/resources/">Resources</a></li><li><a href="/news/">News</a></li></ul></nav><div class="search hide-on-mobiles"></div><div class="meta hide-on-mobiles"><ul><li><a href=https://github.com/AdvancedMacros/AdvancedMacros.github.io/releases/tag/v9.0.2>v9.0.2</a></li><li><a href=https://github.com/AdvancedMacros>GitHub</a></li></ul></div></div><nav class="mobile-nav show-on-mobiles"><ul><li><a href="/">Home</a></li><li class=current><a href="/docs/">Docs</a></li><li><a href="/resources/">Resources</a></li><li><a href="/news/">News</a></li><li><a href=https://github.com/AdvancedMacros/AdvancedMacros.github.io>GitHub</a></li></ul></nav></header><section class=docs><div class=grid><div class="docs-nav-mobile unit whole show-on-mobiles"><select onchange="if (this.value) window.location.href=this.value"><option>Navigate the docs…</option><optgroup label="Getting Started"><option value="/docs/">Docs</option><option value="/docs/step-by-step/01-setup/">Step by Step Tutorial</option></optgroup><optgroup label=Guides><option value="/docs/installation/">Installation</option><option value="/docs/quickstart/">Quickstart</option><option value="/docs/support/">Support</option><option value="/docs/troubleshooting/">Troubleshooting</option></optgroup><optgroup label=Reference><option value="/docs/reference/events/">Events</option><option value="/docs/reference/functions/">Functions</option><option value="/docs/reference/hud2d/">HUD2d</option><option value="/docs/reference/hud3d/">HUD3d</option><option value="/docs/reference/useful-addons/">Useful Addons</option></optgroup><optgroup label=Tutorials><option value="/tutorials/inventory/">Automating the inventory</option><option value="/tutorials/blah/">This is a tutorial</option><option value="/tutorials/blah-2/">This is another tutorial</option></optgroup></select></div><div class="unit four-fifths"><article><div class="improve right hide-on-mobiles"><a data-proofer-ignore href=https://github.com/AdvancedMacros/AdvancedMacros.github.io/edit/source/_docs/reference/events.md><img src=https://advancedmacros.github.io/assets/feather/edit-2.svg alt="Edit icon"> <span>&nbsp;Improve this page</span></a></div><h1>Events</h1><p><strong>Events</strong> are used to trigger scripts when different things in-game occur. You can create an event binding by changing the third icon into the icon of a grass block with an arrow as shown below. <img src=/assets/img/events.png alt="Event Binding"></p><ol><li>Change this icon to the grass block icon as shown in the image. This tells the mod that you want to bind it to an event.</li><li>Clicking the white triangle you select what type of event you want the mod to look for.</li><li>Clicking the square you select what script you want the mod to run upon the event trigger.</li></ol><div class="language-lua highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=kd>local</span> <span class=n>args</span> <span class=o>=</span> <span class=p>{</span><span class=o>...</span><span class=p>}</span>
<span class=n>log</span><span class=p>(</span> <span class=n>args</span> <span class=p>)</span>
<span class=c1>--or for the lazy</span>
<span class=c1>--log{ ... }</span>
</code></pre></div></div><p>In all event pages that show a table in an image they use these 2 lines of code to show the event details.</p><p>The first argument will always be <code class=highlighter-rouge>"event"</code> and the second argument will be the name of the event.</p><hr><h2 id=player>Player <a href=#player></a> <a href=#player></a></h2><h3 id=airchanged>AirChanged <a href=#airchanged></a> <a href=#airchanged></a></h3><p>This event fires when underwater or leaving it and the amount of air you have has changed. If the air level is <code class=highlighter-rouge>-6</code> and the player is underwater still during the next <code class=highlighter-rouge>3 ticks</code> they will take damage and the air level will be reset to <code class=highlighter-rouge>0</code>. Air will decrease by <code class=highlighter-rouge>1</code> every <code class=highlighter-rouge>3 ticks</code>. In Minecraft the max amount of air is <code class=highlighter-rouge>300</code>, this has been scaled down to <code class=highlighter-rouge>100</code>.</p><div class=note>For this event maximum air is <code class=highlighter-rouge>100</code>, and after <code class=highlighter-rouge>-6</code> the player takes damage.</div><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. current amount of air
4. amount changed (gain/loss)
</code></pre></div></div><p><img src=/assets/img/events/AirChanged.png alt="Event Details"></p><p>Here we can see the player’s air has just been restored to <code class=highlighter-rouge>100</code> (from <code class=highlighter-rouge>-3</code>) after having been under water long enough to take damage</p><h3 id=armourdurability>ArmourDurability <a href=#armourdurability></a> <a href=#armourdurability></a></h3><p>This event is called whenever the damage amount on your armour changes. (Also triggers when equipping / equipping armour)</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. current armour values (in a table)
4. armour changes (in a table)
</code></pre></div></div><p>For the provided tables, index <code class=highlighter-rouge>1</code> is the boots, <code class=highlighter-rouge>4</code> is the helmet.<br><img src=/assets/img/events/ArmourDurability.png alt="Event Details"></p><p>Seen here, the player has just damaged their boots and lost <code class=highlighter-rouge>1 durability</code> on them.</p><h3 id=arrowfired>ArrowFired <a href=#arrowfired></a> <a href=#arrowfired></a></h3><p>This event is triggered when ever a bow has been released (if not pulled back enough it wont fire the arrow, but still triggers the script) After version <code class=highlighter-rouge>7.2.1</code> event details are correctly included.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. the bow (item info)
4. how long the bow was charged for
5. has ammo
</code></pre></div></div><p><img src=/assets/img/events/ArrowFired.png alt="Event Details"></p><h3 id=attackentity>AttackEntity <a href=#attackentity></a> <a href=#attackentity></a></h3><p>This event is fired when you attack any entity.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. attacked entity info
</code></pre></div></div><div class="note warning">This event is not triggered by arrows.</div><h3 id=attackready>AttackReady <a href=#attackready></a> <a href=#attackready></a></h3><p>This event is triggered when the player has finished swinging their arm and can attack at full power again.</p><p>No special args for this function.</p><h3 id=blockinteract>BlockInteract <a href=#blockinteract></a> <a href=#blockinteract></a></h3><p>This event is triggered when you hit <code class=highlighter-rouge>USE</code> on a block.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. block pos
4. held item
5. "main hand" / "off hand"
6. block side [up, down, north, east, south, west]
</code></pre></div></div><h3 id=breakitem>BreakItem <a href=#breakitem></a> <a href=#breakitem></a></h3><p>Event is triggered when an item is broken.<span class=flavorText>You got the extended warranty, right?</span><br>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. The item that broke
</code></pre></div></div><p><img src=/assets/img/events/breakItem.png alt="Event Details"></p><div class="note warning">This event does not work in 1.12.2 versions of the mod</div><h3 id=death>Death <a href=#death></a> <a href=#death></a></h3><p>This event triggers when the player dies. <span class=flavorText>(tragic…)</span></p><p>There are no special arguments.</p><h3 id=dimensionchanged>DimensionChanged <a href=#dimensionchanged></a> <a href=#dimensionchanged></a></h3><p>This event is triggered whenever the player changes dimensions.</p><p><strong>Common dimensions ids:</strong></p><table><thead><tr><th style="text-align: left"><strong>Dimension</strong></th><th style="text-align: center"><strong>Number</strong></th></tr></thead><tbody><tr><td style="text-align: left">Overworld</td><td style="text-align: center">0</td></tr><tr><td style="text-align: left">Nether</td><td style="text-align: center">1</td></tr><tr><td style="text-align: left">End</td><td style="text-align: center">-1</td></tr></tbody></table><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Dimension entered
4. Dimension left
</code></pre></div></div><div class="note warning">Non vanilla dimension names will apear as <code class=highlighter-rouge>unknown</code></div><p><strong>1.14.3+</strong><br><img src=/assets/img/events/dimensionChanged.png alt="Event Details"></p><p><strong>1.12.2</strong><br><img src=/assets/img/events/dimensionChanged_7.7.7b.png alt="Event Details"></p><h3 id=entityinteract>EntityInteract <a href=#entityinteract></a> <a href=#entityinteract></a></h3><p>This event triggers when hitting the <code class=highlighter-rouge>USE</code> key on an <code class=highlighter-rouge>entity</code>. If the <code class=highlighter-rouge>main hand</code> does not consume this event then it may also be re triggered for the <code class=highlighter-rouge>offhand</code>.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Entity info
4. Item used to interact with (before the interaction)
5. "main hand" or "off hand"
</code></pre></div></div><h3 id=healthchanged>HealthChanged <a href=#healthchanged></a> <a href=#healthchanged></a></h3><p>This event is triggered whenever the players health has changed.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Current health
4. Amount changed
5. Damage type
</code></pre></div></div><p>Here the player has healed from 19 health to 20. <img src=/assets/img/events/HealthChanged.png alt="Event Details"></p><div class="note warning">Damage type is only available for 1.14.4+</div><h3 id=hotbarchanged>HotbarChanged <a href=#hotbarchanged></a> <a href=#hotbarchanged></a></h3><p>This event is fired whenever the player changes the selected hotbar item either through scrolling or pressing 1-9 on their keyboard.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Currently selected hotbar index
4. The hotbar index ranges from 1 to 9
</code></pre></div></div><p><img src=/assets/img/events/hotbarChanged.png alt="Event Details"><br>Example where the player has just selected their 7th slot</p><h3 id=hungerchanged>HungerChanged <a href=#hungerchanged></a> <a href=#hungerchanged></a></h3><p>This event is triggered whenever the players hunger level changes.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Current hunger level
4. Amount changed
</code></pre></div></div><p><img src=/assets/img/events/HungerChanged.png alt="Event Details"><br>Here you can see that the player has just lost 1 of 20 hunger points and is currently at 17 of 20</p><h3 id=itemcrafted>ItemCrafted <a href=#itemcrafted></a> <a href=#itemcrafted></a></h3><p>This event is triggered when ever you craft an item.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Item crafted
4. Crafting matrix before crafting
</code></pre></div></div><p><img src=/assets/img/events/ItemCrafted.png alt="Event Details"><br>Shows that atleast 1 sugar was crafted from a matrix where 14 sugar cane were in the top left slot <span class=comment>(Image from version 7.2.1 update needed)</span></p><h3 id=itemdurability>ItemDurability <a href=#itemdurability></a> <a href=#itemdurability></a></h3><p>This event is fired whenever the durability of the held item changes.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. The item
4. Durability change
</code></pre></div></div><p><img src=/assets/img/events/ItemDurability.png alt="Event Details"></p><h3 id=itempickup>ItemPickup <a href=#itempickup></a> <a href=#itempickup></a></h3><p>This event is fired whenever you pick up an item.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Item picked up
</code></pre></div></div><p><img src=/assets/img/events/ItemPickup.png alt="Event Details"></p><h3 id=itemtossed>ItemTossed <a href=#itemtossed></a> <a href=#itemtossed></a></h3><p>This event is fired when you toss an item.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Item picked up
</code></pre></div></div><p><img src=/assets/img/events/ItemTossed.png alt="Event Details"></p><h3 id=joinworld>JoinWorld <a href=#joinworld></a> <a href=#joinworld></a></h3><p>The JoinWorld event is fired when the player (you) joins any world. (Single player or multi player)</p><table><thead><tr><th style="text-align: left">Arg</th><th style="text-align: left">Description</th><th style="text-align: left">Explanation</th></tr></thead><tbody><tr><td style="text-align: left">3</td><td style="text-align: left">“VANILLA”/”MODDED”</td><td style="text-align: left">Indicates if the server/world joined is modded or not.</td></tr><tr><td style="text-align: left">4.</td><td style="text-align: left">“SP”/”MP”</td><td style="text-align: left">Indicates if you are on a Single Player world or a Multi Player world.</td></tr><tr><td style="text-align: left">5.</td><td style="text-align: left">Server Name</td><td style="text-align: left">The name of the server as you named it in your multiplayer menu</td></tr><tr><td style="text-align: left">6.</td><td style="text-align: left">MOTD</td><td style="text-align: left">false if none exists</td></tr><tr><td style="text-align: left">7.</td><td style="text-align: left">IP</td><td style="text-align: left">false if none exists</td></tr></tbody></table><div class=note>Args 5,6, and 7 only show up when on a multiplayer world.</div><p><img src=/assets/img/events/JoinWorld.png alt="Event Details"><br>Left shows a <code class=highlighter-rouge>single player</code> world, Right shows a <code class=highlighter-rouge>server</code>.<br><code class=highlighter-rouge>localhost</code> shows up on both the <code class=highlighter-rouge>5</code> and <code class=highlighter-rouge>7</code> because the server was named after it’s <code class=highlighter-rouge>IP</code></p><h3 id=leaveworld>LeaveWorld <a href=#leaveworld></a> <a href=#leaveworld></a></h3><p>This event is triggered when you disconnect from a server or single player game.</p><p>There are no special arguments added to this event.</p><h3 id=playerignited>PlayerIgnited <a href=#playerignited></a> <a href=#playerignited></a></h3><p>This event is triggered when the player either catches fire or is extinguished.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Is currently on fire (boolean)
</code></pre></div></div><p><img src=/assets/img/events/PlayerIgnited.png alt="Event Details"></p><h3 id=potionstatus>PotionStatus <a href=#potionstatus></a> <a href=#potionstatus></a></h3><p>This event is triggered while a potion effect is applied to the player.</p><div class=note>This event is fired once for each active potion effect.</div><p>This event will be re-triggered as the duration values on the potion effects change. The interval used to determine how frequently to call this event can be configured in the mod settings.</p><p><strong>Showing the current setting:</strong></p><div class="language-lua highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=n>log</span><span class=p>(</span> <span class=n>getSettings</span><span class=p>().</span><span class=n>events</span><span class=p>.</span><span class=n>potionStatusFrequency</span> <span class=p>)</span>
</code></pre></div></div><p>The rule here is that when the potions remaining duration measured in ticks -1 is divisible by the frequency, the event is triggered ( (duration-1) % frequency == 0 )</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Potion details
</code></pre></div></div><p><img src=/assets/img/events/PotionStatus.png alt="Event Details"></p><h3 id=respawn>Respawn <a href=#respawn></a> <a href=#respawn></a></h3><p>The Respawn event triggers after the player dies and presses <code class=highlighter-rouge>Respawn</code>.<span class=flavorText>Good as new!</span>\</p><p>This event has no special arguments.</p><h3 id=saturationchanged>SaturationChanged <a href=#saturationchanged></a> <a href=#saturationchanged></a></h3><p>This event is triggered when the players <code class=highlighter-rouge>saturation level</code> is changed.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Current saturation level
4. Amount changed
</code></pre></div></div><p><img src=/assets/img/events/SaturationChanged.png alt="Event Details"></p><h3 id=usebed>UseBed <a href=#usebed></a> <a href=#usebed></a></h3><p>Triggered when the player enters a bed.</p><p>No special args for this event.</p><h3 id=useitem>UseItem <a href=#useitem></a> <a href=#useitem></a></h3><p>This event is triggered while the use key is being held or when it is released. This only works for items with a <code class=highlighter-rouge>use</code> action (like food, potions, bows, etc) not blocks being placed.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. item being used
4. 72000-ticks held
5. phase (start, tick, stop)
</code></pre></div></div><div class=note>The 72000 value comes from Minecraft. (1 hour in ticks) This is the maximum amount of time you can hold the use button on an item before it is forced to finish</div><div class=note>This events tick rate can be configured using: <code class="language-lua highlighter-rouge">getSettings().events.useItemFrequency</code></div><p>Its default value is 20 (once per second)</p><h3 id=wakeup>WakeUp <a href=#wakeup></a> <a href=#wakeup></a></h3><p>This event triggers when a player exits a bed (regardless of time change).<br>It will also trigger if manual exiting the bed.</p><p>No special args for this function.</p><h3 id=xp>XP <a href=#xp></a> <a href=#xp></a></h3><p>This event fires whenever the amount of experience the player has or the number of levels they have changes.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Current experience points (the bar)
4. Current level
5. Change in points
6. Change in level
</code></pre></div></div><p><img src=/assets/img/events/XP.png alt="Event Details"></p><h2 id=gui>GUI <a href=#gui></a> <a href=#gui></a></h2><h3 id=actionbar>Actionbar <a href=#actionbar></a> <a href=#actionbar></a></h3><p>The Actionbar event fires whenever text is displayed above the hotbar. An example is when playing a record</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. displayed text
4. is the text is colorized ( cycles through colors )
</code></pre></div></div><p><img src=/assets/img/events/actionbar.png alt="Event Details"></p><h3 id=chat>Chat <a href=#chat></a> <a href=#chat></a></h3><p>The chat event is triggered a chat message whenever any text is added to the chat (except by log).</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Formatted Text
4. Unformulated Text
5. Extras
</code></pre></div></div><p>Extras can be tooltips, functions or click actions.<br>In the example below you can see that the <code class=highlighter-rouge>&amp;T</code> code makes it so clicking on the players name will type <code class=highlighter-rouge>/msg Player366</code> without sending. <img src=/assets/img/events/chat.png alt="Event Details"></p><h3 id=chatfilter>ChatFilter <a href=#chatfilter></a> <a href=#chatfilter></a></h3><p>The chat filter event is used to change incoming text and replace it with new text before showing it in the chat.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Formatted text
4. Unformatted text
5. Extras
</code></pre></div></div><div class=note>Any values returned by the script are used by log to create the altered chat message. Returning false will cancel the message.</div><p>Example:</p><div class="language-lua highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=kd>local</span> <span class=n>args</span> <span class=o>=</span> <span class=p>{</span><span class=o>...</span><span class=p>}</span>
<span class=n>log</span><span class=p>(</span> <span class=n>args</span> <span class=p>)</span>
<span class=k>return</span> <span class=n>args</span><span class=p>[</span><span class=mi>3</span><span class=p>]:</span><span class=n>gsub</span><span class=p>(</span><span class=s2>"Amazing Server"</span><span class=p>,</span> <span class=s2>"lagging"</span><span class=p>),</span> <span class=nb>table.unpack</span><span class=p>(</span><span class=n>args</span><span class=p>[</span><span class=mi>5</span><span class=p>])</span>
</code></pre></div></div><p><img src=/assets/img/events/chatFilter.png alt="Script result"></p><div class=note><h4>Tip:</h4>\ Chat filters can be chained by simply having more than one chat filter event in your bindings. \ \ The return values from the first will be passed to the second adding in the <code class=highlighter-rouge>"event"</code> and <code class=highlighter-rouge>"ChatFilter"</code> as the first and second arguments again for you.</div><h3 id=chatsendfilter>ChatSendFilter <a href=#chatsendfilter></a> <a href=#chatsendfilter></a></h3><p>The ChatSendFilter event is triggered whenever the you are about to send a chat message. This allows you to either edit the text before sending it or cancel the message entirely.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Text to send
</code></pre></div></div><p>Example:</p><div class="language-lua highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=kd>local</span> <span class=n>args</span> <span class=o>=</span> <span class=p>{</span><span class=o>...</span><span class=p>}</span>
<span class=n>log</span><span class=p>(</span> <span class=n>args</span> <span class=p>)</span>
<span class=k>return</span> <span class=n>args</span><span class=p>[</span><span class=mi>3</span><span class=p>]:</span><span class=n>gsub</span><span class=p>(</span><span class=s2>"btw"</span><span class=p>,</span><span class=s2>"by the way"</span><span class=p>)</span>
</code></pre></div></div><p><img src=/assets/img/events/chatSendFilter.png alt="Script result"></p><div class=note><h4>Tip:</h4>\ By canceling the message you can use it to create custom commands.</div><h3 id=containeropen>ContainerOpen <a href=#containeropen></a> <a href=#containeropen></a></h3><p>This event is triggered anytime you open a <code class=highlighter-rouge>GUI</code> that has an inventory.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. GUI controlls (isOpen, close, inventory)
4. Container type (used to get the inventory mapping)
</code></pre></div></div><h3 id=guiclosed>GuiClosed <a href=#guiclosed></a> <a href=#guiclosed></a></h3><p>This event is called when a <code class=highlighter-rouge>GUI</code> is closed.</p><p>No special arguments for this event.</p><h3 id=guiopened>GuiOpened <a href=#guiopened></a> <a href=#guiopened></a></h3><p>This event is triggered whenever any <code class=highlighter-rouge>GUI</code> is opened.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. controls
4. GUI name
</code></pre></div></div><p>Controls always include <code class=highlighter-rouge>isOpen</code> and <code class=highlighter-rouge>close</code> functions. For vanilla GUIs additional functions are included. For any gui with an inventory <code class=highlighter-rouge>arg 3</code> should also include a value <code class=highlighter-rouge>inventory</code> with controls for that inventory’s contents.</p><p><strong>Anvil</strong>\</p><table><thead><tr><th style="text-align: left"><strong>Function Name</strong></th><th style="text-align: left"><strong>Return value</strong></th><th style="text-align: left"><strong>Description</strong></th></tr></thead><tbody><tr><td style="text-align: left">getCost()</td><td style="text-align: left">Number: Repair cost</td><td style="text-align: left">Returns the repair cost in levels</td></tr><tr><td style="text-align: left">getName()</td><td style="text-align: left">String: Item name</td><td style="text-align: left">Returns the text from the anvils name field</td></tr><tr><td style="text-align: left">setName( String:name )</td><td style="text-align: left"></td><td style="text-align: left">Sets the text in the anvils name field</td></tr></tbody></table><p><strong>Villlager</strong></p><table><thead><tr><th style="text-align: left"><strong>Function Name</strong></th><th style="text-align: left"><strong>Return value</strong></th><th style="text-align: left"><strong>Description</strong></th></tr></thead><tbody><tr><td style="text-align: left">getTrades()</td><td style="text-align: left">Table: Trade list</td><td style="text-align: left">Returns a list of trades, each trade has a list of input items (1 or 2), 1 output item, and the number of uses remaining.<br>[input, output uses]</td></tr><tr><td style="text-align: left">getType()</td><td style="text-align: left">String: Villager type</td><td style="text-align: left">Returns the the type of villagers.<br>(Librarian, Farmer, Blacksmith…etc)</td></tr></tbody></table><p><strong>Enchantment table</strong></p><table><thead><tr><th style="text-align: left"><strong>Function Name</strong></th><th style="text-align: left"><strong>Return value</strong></th><th style="text-align: left"><strong>Description</strong></th></tr></thead><tbody><tr><td style="text-align: left">getOptions()</td><td style="text-align: left">Table: Enchantment options</td><td style="text-align: left">Returns a list of the available enchantment options.<br>Each option has the properties <strong>hint</strong> and <strong>lvl</strong>.</td></tr><tr><td style="text-align: left">pickOption(Number: option)</td><td style="text-align: left"></td><td style="text-align: left">Clicks on the enchantment option chosen. Number must be between 1 and 3 (inclusive).</td></tr></tbody></table><p><strong>Sign</strong></p><table><thead><tr><th style="text-align: left"><strong>Function Name</strong></th><th style="text-align: left"><strong>Return value</strong></th><th style="text-align: left"><strong>Description</strong></th></tr></thead><tbody><tr><td style="text-align: left">getLines()</td><td style="text-align: left">Table: Lines</td><td style="text-align: left">Returns a table containing each line on the sign</td></tr><tr><td style="text-align: left">done</td><td style="text-align: left"></td><td style="text-align: left">Clicks the “Done” button for you</td></tr><tr><td style="text-align: left">setLine( Number: lineNum &lt;, String: text&gt; )</td><td style="text-align: left"></td><td style="text-align: left">Sets the text for a line.<br>Text will default to “”</td></tr><tr><td style="text-align: left">setLines( Table: lines )</td><td style="text-align: left"></td><td style="text-align: left">Grabs each index from the given table to set the sign’s text</td></tr><tr><td style="text-align: left">setLines(<br>String:line1<br>&lt;,String: line2&gt;<br>&lt;,String: line3&gt;<br>&lt;,String: line4&gt; )</td><td style="text-align: left"></td><td style="text-align: left">Sets each text line, nil values will be “”</td></tr></tbody></table><p><strong>Book (1.14.4+)</strong></p><table><thead><tr><th style="text-align: left"><strong>Function Name</strong></th><th style="text-align: left"><strong>Return value</strong></th><th style="text-align: left"><strong>Description</strong></th></tr></thead><tbody><tr><td style="text-align: left">sign( String: Title )</td><td style="text-align: left"></td><td style="text-align: left">Signs the book with a given title.</td></tr><tr><td style="text-align: left">save()</td><td style="text-align: left"></td><td style="text-align: left">Sends changes to the book to the server.</td></tr><tr><td style="text-align: left">isSigned()</td><td style="text-align: left"><strong>FALSE</strong></td><td style="text-align: left">This is the writeable book and can not be signed<br>(in 1.12.2 the written book used the same controls)</td></tr><tr><td style="text-align: left">getText()</td><td style="text-align: left">String: text</td><td style="text-align: left">Returns the text on the current page</td></tr><tr><td style="text-align: left">setText( String: Text)</td><td style="text-align: left"></td><td style="text-align: left">Sets the text on this page to the given text</td></tr><tr><td style="text-align: left">getPages()</td><td style="text-align: left">Table: Pages</td><td style="text-align: left">Returns the entire book as a list of strings.<br>Each string is another page.</td></tr><tr><td style="text-align: left">setPages( Table: Pages )</td><td style="text-align: left"></td><td style="text-align: left">Sets each page in the book to the text from the provided table.<br>Stops at #pages (inclusive)</td></tr><tr><td style="text-align: left">addPage()</td><td style="text-align: left">Boolean: Added</td><td style="text-align: left">Returns <strong>TRUE</strong> if a page was added to the book.<br>Returns <strong>FALSE</strong> if it could not (page limit).</td></tr><tr><td style="text-align: left">nextPage()</td><td style="text-align: left">Boolean: Success</td><td style="text-align: left">Navigate to the next page.<br>If the next page does not exist it will attempt to create it.<br>Returns <strong>FALSE</strong> if a new page could not be created, <strong>TRUE</strong> otherwise.</td></tr><tr><td style="text-align: left">prevPage()</td><td style="text-align: left">Boolean: Success</td><td style="text-align: left">Navigate to the previous page.<br>Returns <strong>FALSE</strong> if there was no previous page, <strong>TRUE</strong> otherwise.</td></tr><tr><td style="text-align: left">currentPage()</td><td style="text-align: left">Number: PageNumber</td><td style="text-align: left">Returns the current page number</td></tr><tr><td style="text-align: left">gotoPage( Number: PageNum )</td><td style="text-align: left"></td><td style="text-align: left">Jump directly to a certain page number.<br>PageNum will be moved into the range [1, pageCount] if it falls outside that range.</td></tr><tr><td style="text-align: left">pageCount()</td><td style="text-align: left">Number: NumPages</td><td style="text-align: left">Return the number of pages in this book.</td></tr></tbody></table><p><strong>Book (1.12.2)</strong>, Contains all of the above with the following changes:</p><table><thead><tr><th style="text-align: left"><strong>Function Name</strong></th><th style="text-align: left"><strong>Return value</strong></th><th style="text-align: left"><strong>Description</strong></th></tr></thead><tbody><tr><td style="text-align: left">getTitle()</td><td style="text-align: left">String: Title</td><td style="text-align: left">Returns the title of the book if written</td></tr><tr><td style="text-align: left">isSigned()</td><td style="text-align: left">Boolean: IsSigned</td><td style="text-align: left">Is the book signed?</td></tr><tr><td style="text-align: left">getAuthor()</td><td style="text-align: left">String: Author</td><td style="text-align: left">Return the author’s name</td></tr></tbody></table><p><strong>Command Block</strong></p><table><thead><tr><th style="text-align: left"><strong>Function Name</strong></th><th style="text-align: left"><strong>Return value</strong></th><th style="text-align: left"><strong>Description</strong></th></tr></thead><tbody><tr><td style="text-align: left">isConditional()</td><td style="text-align: left">Boolean: isConditional</td><td style="text-align: left">Returns true if the command block is in conditional mode</td></tr><tr><td style="text-align: left">getMode()</td><td style="text-align: left">String: mode</td><td style="text-align: left">Returns the command block mode.<br>(“impulse”,”chain”,”repeat”)</td></tr><tr><td style="text-align: left">getText()</td><td style="text-align: left">String: commandText</td><td style="text-align: left">Returns the current command</td></tr><tr><td style="text-align: left">setMode(String: Mode)</td><td style="text-align: left"></td><td style="text-align: left">Set the mode of the command block. Valid modes are:<br>- “impulse”<br>- “repeat”<br>- “chain”</td></tr><tr><td style="text-align: left">setText(String: cmd)</td><td style="text-align: left"></td><td style="text-align: left">Set the command text</td></tr><tr><td style="text-align: left">done()</td><td style="text-align: left"></td><td style="text-align: left">Clicks the ‘<strong>Done</strong>’ button. Saves any changes.</td></tr><tr><td style="text-align: left">isNeedsRedstone()</td><td style="text-align: left">Boolean: NeedsRedstone</td><td style="text-align: left">Returns a boolean indicating if this command block requires a redstone signal to work.</td></tr><tr><td style="text-align: left">isTrackOutput()</td><td style="text-align: left">Boolean: isTracking</td><td style="text-align: left">Return a boolean indicating if the command block is keeping command response text.</td></tr><tr><td style="text-align: left">setImpulse()</td><td style="text-align: left"></td><td style="text-align: left">Sets the command block to ‘<strong>impulse</strong>’ mode.</td></tr><tr><td style="text-align: left">setChain()</td><td style="text-align: left"></td><td style="text-align: left">Sets the command block to ‘<strong>chain</strong>’ mode.</td></tr><tr><td style="text-align: left">setRepeat</td><td style="text-align: left"></td><td style="text-align: left">Sets the command block to ‘<strong>repeat</strong>’ mode.</td></tr><tr><td style="text-align: left">setConditional(Boolean: isConditional)</td><td style="text-align: left"></td><td style="text-align: left">Sets if the command block requires a previous command block to be successful to run.</td></tr><tr><td style="text-align: left">setNeedsRedstone(Boolean: needsRedstone)</td><td style="text-align: left"></td><td style="text-align: left">Set if the command block requires a redstone signal to work.</td></tr><tr><td style="text-align: left">setTrackOutput(Boolean: shouldTrack)</td><td style="text-align: left"></td><td style="text-align: left">Set if the command block should track the output from a command.</td></tr><tr><td style="text-align: left">getOutput()</td><td style="text-align: left">String: outputText</td><td style="text-align: left">Returns the output text from the last command that ran.</td></tr></tbody></table><h2 id=world>World <a href=#world></a> <a href=#world></a></h2><h3 id=playerjoin>PlayerJoin <a href=#playerjoin></a> <a href=#playerjoin></a></h3><p>Triggered whenever a player joins the game. This event does not rely on the <code class=highlighter-rouge>Player has joined the game</code> message and will work even if a server has hidden those messages.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Players name
</code></pre></div></div><p><img src=/assets/img/events/PlayerJoin.png alt="Event Details"></p><h3 id=playerleave>PlayerLeave <a href=#playerleave></a> <a href=#playerleave></a></h3><p>This event triggers when any player leaves the server. This event’s implementation does not rely on the <code class=highlighter-rouge>Player left the game</code> messages and will work even if a server has hidden those messages.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. the player who left. &lt;span class="flavorText"&gt;(Good bye friend!)&lt;/span&gt;
</code></pre></div></div><p><img src=/assets/img/events/PlayerLeave.png alt="Event Details"></p><h3 id=sound>Sound <a href=#sound></a> <a href=#sound></a></h3><p>This event is triggered when any sound is played in game (but not by <code class=highlighter-rouge>playSound</code> or <code class=highlighter-rouge>getSound</code>).</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Sound name
4. extra info
5. controls including
</code></pre></div></div><table><thead><tr><th style="text-align: left">Control</th><th style="text-align: left">Return Value</th><th style="text-align: left">Description</th></tr></thead><tbody><tr><td style="text-align: left">isPlaying()</td><td style="text-align: left">Boolean</td><td style="text-align: left">Check if the sound is still playing.<br>Only relates to this one instance.</td></tr><tr><td style="text-align: left">stop()</td><td style="text-align: left"></td><td style="text-align: left">Stop the sound()</td></tr></tbody></table><p><a href=https://www.digminecraft.com/lists/sound_list_pc.php>https://www.digminecraft.com/lists/sound_list_pc.php</a> has an interactive list of sounds and sound IDs that may be useful.</p><h3 id=title>Title <a href=#title></a> <a href=#title></a></h3><p>The title event is triggered whenever a player is shown a title in game.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. title text
4. subtitle text (if none then it's "" )
5. display time in ticks
6. fade in time in ticks
7. fade out time in ticks
</code></pre></div></div><h3 id=weather>Weather <a href=#weather></a> <a href=#weather></a></h3><p>This event is triggered whenever the weather changes in game.<br>Weather will not normal change directly from clear to thunder or from thunder directly to clear.<br>It will instead transition through rain.</p><table><thead><tr><th style="text-align: left">Weather types:</th></tr></thead><tbody><tr><td style="text-align: left">clear</td></tr><tr><td style="text-align: left">rain</td></tr><tr><td style="text-align: left">thunder</td></tr></tbody></table><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Current weather
</code></pre></div></div><p><img src=/assets/img/events/Weather.png alt="Event Details"></p><h3 id=worldsaved>WorldSaved <a href=#worldsaved></a> <a href=#worldsaved></a></h3><p>This event is triggered whenever your single player game is saved.</p><p>No special arguments for this event.</p><h2 id=other>Other <a href=#other></a> <a href=#other></a></h2><h3 id=anything>Anything <a href=#anything></a> <a href=#anything></a></h3><p>This event is the catch all event. Anything <strong>except for chat filters</strong> will trigger this. <strong>Key and mouse events will also trigger this.</strong></p><p>Args will match as described in other events.</p><h3 id=profileloaded>ProfileLoaded <a href=#profileloaded></a> <a href=#profileloaded></a></h3><p>This event is fired whenever the current Bindings profile has been changed.</p><p>Args:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>3. Profile name
</code></pre></div></div><p><img src=/assets/img/events/ProfileLoaded.png alt="Event Details"><br>A profile named <code class=highlighter-rouge>Documentation</code> has just been loaded</p><h3 id=startup>Startup <a href=#startup></a> <a href=#startup></a></h3><p>This event is triggered right after the mod has been loaded and is an excellent time load any functions that you want to be available for the remainder of the time the game runs.</p><p>No special args for this event</p><p>This example code will run every script that exists in a folder named “startup” and can be a neat way to run multiple scripts during startup without cluttering your bindings menu.</p><div class="language-lua highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=kd>local</span> <span class=n>files</span> <span class=o>=</span> <span class=n>filesystem</span><span class=p>.</span><span class=n>list</span><span class=p>(</span><span class=s2>"~macros/startup"</span><span class=p>)</span>

<span class=n>toast</span><span class=p>(</span><span class=s2>"Startup"</span><span class=p>,</span><span class=s2>"loading files..."</span><span class=p>)</span>
<span class=k>for</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=k>in</span> <span class=nb>pairs</span><span class=p>(</span><span class=n>files</span><span class=p>)</span> <span class=k>do</span>
  <span class=kd>local</span> <span class=n>pass</span><span class=p>,</span> <span class=n>err</span> <span class=o>=</span> <span class=n>pRun</span><span class=p>(</span><span class=s2>"~macros/startup/"</span><span class=o>..</span><span class=n>b</span><span class=p>)</span>
  <span class=k>if</span> <span class=ow>not</span> <span class=n>pass</span> <span class=k>then</span>
    <span class=n>log</span><span class=p>(</span><span class=s2>"&amp;cstartup&amp;7/&amp;c"</span><span class=o>..</span><span class=n>b</span><span class=o>..</span><span class=s2>"&amp;4 "</span><span class=o>..</span><span class=n>err</span><span class=p>)</span>
  <span class=k>end</span>
<span class=k>end</span>
</code></pre></div></div></article></div><div class="unit one-fifth hide-on-mobiles"><aside><h4>Getting Started</h4><ul><li><a href="/docs/">Docs</a></li><li><a href="/docs/step-by-step/01-setup/">Step by Step Tutorial</a></li></ul><h4>Guides</h4><ul><li><a href="/docs/installation/">Installation</a></li><li><a href="/docs/quickstart/">Quickstart</a></li><li><a href="/docs/support/">Support</a></li><li><a href="/docs/troubleshooting/">Troubleshooting</a></li></ul><h4>Reference</h4><ul><li class=current><a href="/docs/reference/events/">Events</a></li><li><a href="/docs/reference/functions/">Functions</a></li><li><a href="/docs/reference/hud2d/">HUD2d</a></li><li><a href="/docs/reference/hud3d/">HUD3d</a></li><li><a href="/docs/reference/useful-addons/">Useful Addons</a></li></ul><h4>Tutorials</h4><ul><li><a href="/tutorials/inventory/">Automating the inventory</a></li><li><a href="/tutorials/blah/">This is a tutorial</a></li><li><a href="/tutorials/blah-2/">This is another tutorial</a></li></ul><h4>Contents</h4><ul><li><a href=#player>Player</a><ul><li><a href=#airchanged>AirChanged</a></li><li><a href=#armourdurability>ArmourDurability</a></li><li><a href=#arrowfired>ArrowFired</a></li><li><a href=#attackentity>AttackEntity</a></li><li><a href=#attackready>AttackReady</a></li><li><a href=#blockinteract>BlockInteract</a></li><li><a href=#breakitem>BreakItem</a></li><li><a href=#death>Death</a></li><li><a href=#dimensionchanged>DimensionChanged</a></li><li><a href=#entityinteract>EntityInteract</a></li><li><a href=#healthchanged>HealthChanged</a></li><li><a href=#hotbarchanged>HotbarChanged</a></li><li><a href=#hungerchanged>HungerChanged</a></li><li><a href=#itemcrafted>ItemCrafted</a></li><li><a href=#itemdurability>ItemDurability</a></li><li><a href=#itempickup>ItemPickup</a></li><li><a href=#itemtossed>ItemTossed</a></li><li><a href=#joinworld>JoinWorld</a></li><li><a href=#leaveworld>LeaveWorld</a></li><li><a href=#playerignited>PlayerIgnited</a></li><li><a href=#potionstatus>PotionStatus</a></li><li><a href=#respawn>Respawn</a></li><li><a href=#saturationchanged>SaturationChanged</a></li><li><a href=#usebed>UseBed</a></li><li><a href=#useitem>UseItem</a></li><li><a href=#wakeup>WakeUp</a></li><li><a href=#xp>XP</a></li></ul></li><li><a href=#gui>GUI</a><ul><li><a href=#actionbar>Actionbar</a></li><li><a href=#chat>Chat</a></li><li><a href=#chatfilter>ChatFilter</a></li><li><a href=#chatsendfilter>ChatSendFilter</a></li><li><a href=#containeropen>ContainerOpen</a></li><li><a href=#guiclosed>GuiClosed</a></li><li><a href=#guiopened>GuiOpened</a></li></ul></li><li><a href=#world>World</a><ul><li><a href=#playerjoin>PlayerJoin</a></li><li><a href=#playerleave>PlayerLeave</a></li><li><a href=#sound>Sound</a></li><li><a href=#title>Title</a></li><li><a href=#weather>Weather</a></li><li><a href=#worldsaved>WorldSaved</a></li></ul></li><li><a href=#other>Other</a><ul><li><a href=#anything>Anything</a></li><li><a href=#profileloaded>ProfileLoaded</a></li><li><a href=#startup>Startup</a></li></ul></li></ul></aside></div><div class=clear></div></div></section><footer><div class=grid><div class="unit two-thirds center-on-mobiles"><p>The source for Advanced Macros is avalable <a href=https://github.com/AdvancedMacros>on GitHub</a>.</p></div><div class="unit one-third align-right center-on-mobiles"><p>The contents of this website are<br>&copy;&nbsp;2020 under the terms of the <a href=https://github.com/AdvancedMacros/AdvancedMacros.github.io/blob/source/LICENSE>MIT&nbsp;License</a>.</p></div></div></footer></body></html>